XF-ETH-BN-MIB DEFINITIONS ::= BEGIN
IMPORTS
    MODULE-IDENTITY, OBJECT-TYPE, Unsigned32
        FROM SNMPv2-SMI -- [RFC2578]
    DisplayString, RowStatus, TruthValue, TEXTUAL-CONVENTION
        FROM SNMPv2-TC  -- [RFC2579]
    OBJECT-GROUP
        FROM SNMPv2-CONF
    dot1agCfmMdIndex, dot1agCfmMaIndex, Dot1agCfmCcmInterval,
    Dot1agCfmMDLevel, dot1agCfmMepIdentifier
        FROM IEEE8021-CFM-MIB
    ifIndex
        FROM IF-MIB
    xfEthernetBridge
        FROM XF-TOP-MIB;

xfEthBnMib MODULE-IDENTITY
    LAST-UPDATED    "201708240000Z"
    ORGANIZATION    "Ericsson"
    CONTACT-INFO    "Contact-info."
    DESCRIPTION
        "This MIB module contains all the required configurable parameters
         for the Ethernet Bandwidth Notification defined in ITU-T
         6.8013/Y.1731 for MINI-LINK 66 products."
    REVISION    "201708240000Z"
    DESCRIPTION
        "Added SNMP support for setting the frame format between ITU-T GNM
         and Cisco VSM."
    REVISION    "201706010000Z"
    DESCRIPTION
        "Initial version"
    ::= { xfEthernetBridge 6}

XfEthBnSendOnOptions ::= TEXTUAL-CONVENTION
    STATUS    current
    DESCRIPTION
        "Value which represents whether BNM frames should be sent or not
         in specific cases. For example link speed drops to zero or return
         to full speed.
         Valid values:
         0 - Do not send (ITU-T operation)
         1 - Send one more BNM frame (CISCO)
         2 - Always send BNM frames"
    SYNTAX INTEGER {
        doNotSend  (0),
        send1      (1),
        alwaysSend (2)
        }

XfEthBnFrameFormat ::= TEXTUAL-CONVENTION
    STATUS current
    DESCRIPTION
        "Value which represents the used L2 frame format.
         Valid values:
         0 - ITU-T specification using CFM GNM opcode and BNM sub-opcode
         1 - Cisco specification using CFM VSM opcode"
    SYNTAX INTEGER {
        itut  (0),
        cisco (1)
        }

    xfEthBnConformance OBJECT IDENTIFIER ::= { xfEthBnMib 2 }

    xfEthBnTableGroup OBJECT-GROUP
        OBJECTS { xfEthBnIfIndex,
                  xfEthBnHoldTime,
                  xfEthBnInterval,
                  xfEthBnMegLevel,
                  xfEthBnPriority,
                  xfEthBnPortId,
                  xfEthBnEnable,
                  xfEthBnSendOnFullSpeed,
                  xfEthBnSendOnLinkFail,
                  xfEthBnSendFrequentlyAfterHoldTime,
                  xfEthBnFrameFormat }
        STATUS current
        DESCRIPTION
            "Collection of objects used for configuring an ETH-BN instance."
        ::= { xfEthBnConformance 1 }

    -- 1.3.6.1.4.1.193.81.2.16.1 --
    xfEthBnObjects OBJECT IDENTIFIER ::= { xfEthBnMib 1 }

    -- 1.3.6.1.4.1.193.81.2.16.1.1 --
    xfEthBnConfigTable OBJECT-TYPE
        SYNTAX SEQUENCE OF XfEthBnConfigEntry
        MAX-ACCESS not-accessible
        STATUS current
        DESCRIPTION
            "This table holds all configured ETH-BN instances"
        ::= { xfEthBnObjects 1 }

    -- 1.3.6.1.4.1.193.81.2.16.1.1.1 --
    xfEthBnConfigEntry OBJECT-TYPE
        SYNTAX XfEthBnConfigEntry
        MAX-ACCESS not-accessible
        STATUS current
        DESCRIPTION
            "Entry in config table"
        INDEX { dot1agCfmMdIndex,
                dot1agCfmMaIndex,
                dot1agCfmMepIdentifier}
        ::= { xfEthBnConfigTable 1 }

    XfEthBnConfigEntry ::=
        SEQUENCE {
            xfEthBnIfIndex                     INTEGER,
            xfEthBnHoldTime                    Unsigned32,
            xfEthBnInterval                    Dot1agCfmCcmInterval,
            xfEthBnMegLevel                    Dot1agCfmMDLevel,
            xfEthBnPriority                    Unsigned32,
            xfEthBnPortId                      Unsigned32,
            xfEthBnEnable                      TruthValue,
            xfEthBnSendOnFullSpeed             XfEthBnSendOnOptions,
            xfEthBnSendOnLinkFail              XfEthBnSendOnOptions,
            xfEthBnSendFrequentlyAfterHoldTime TruthValue,
            xfEthBnFrameFormat                 XfEthBnFrameFormat
        }

    -- 1.3.6.1.4.1.193.81.2.16.1.1.1.1 --
    xfEthBnIfIndex OBJECT-TYPE
        SYNTAX    INTEGER
        MAX-ACCESS read-create
        STATUS current
        DESCRIPTION
            "Used for identifying which WAN interface should be monitored
             for BW degradation with the ifIndex value"
        DEFVAL { 0 }
        ::= { xfEthBnConfigEntry 1 }
    
    -- 1.3.6.1.4.1.193.81.2.16.1.1.1.2 --
    xfEthBnHoldTime OBJECT-TYPE
        SYNTAX    Unsigned32 (0..10)
        UNITS    "s"
        MAX-ACCESS read-create
        STATUS current
        DESCRIPTION
            "Determines the time between detecting degradation, and
             transmission of the first frame with BNM information that
             indicates degradation (up to 10 s)."
        DEFVAL { 0 }
        ::= { xfEthBnConfigEntry 2 }

    -- 1.3.6.1.4.1.193.81.2.16.1.1.1.3 --
    xfEthBnInterval OBJECT-TYPE
        SYNTAX Dot1agCfmCcmInterval
        MAX-ACCESS read-create
        STATUS current
        DESCRIPTION
            "Determines transmission periodicity of frames with ETH-BN
             information. The possible values are:
             interval1s(4)      BNMs are sent every 1 second.
             interval10s(5)     BNMs are sent every 10 seconds.
             interval1min(6)    BNMs are sent every minute.
             Default value is interval1s."
        DEFVAL { 4 }
        ::= { xfEthBnConfigEntry 3 }

    -- 1.3.6.1.4.1.193.81.2.16.1.1.1.4 --
    xfEthBnMegLevel OBJECT-TYPE
        SYNTAX Dot1agCfmMDLevel
        MAX-ACCESS read-create
        STATUS current
        DESCRIPTION
            "MEG level at which the most immediate client layer MIPs and
             MEPs exist. Default value is 0."
        DEFVAL { 0 }
        ::= { xfEthBnConfigEntry 4 }

    -- 1.3.6.1.4.1.193.81.2.16.1.1.1.5 --
    xfEthBnPriority OBJECT-TYPE
        SYNTAX Unsigned32 (0..7)
        MAX-ACCESS read-create
        STATUS current
        DESCRIPTION
            "Identifies the priority of frames with ETH-BN information."
        DEFVAL { 0 }
        ::= { xfEthBnConfigEntry 5 }

    -- 1.3.6.1.4.1.193.81.2.16.1.1.1.6 --
    xfEthBnPortId OBJECT-TYPE
        SYNTAX Unsigned32
        MAX-ACCESS read-create
        STATUS current
        DESCRIPTION
            "A 32-bit unique identifier for the port; this is needed in
             multipoint MEGs if frames with ETH-BN information about
             different ports would otherwise be identical. It is optional
             otherwise. The value must be unique over all server links
             within the client MEG. Default value is 0."
        DEFVAL { 0 }
        ::= { xfEthBnConfigEntry 6 }
    
    -- 1.3.6.1.4.1.193.81.2.16.1.1.1.7 --
    xfEthBnEnable OBJECT-TYPE
        SYNTAX TruthValue
        MAX-ACCESS read-create
        STATUS current
        DESCRIPTION
            "Triggers whether bandwidth monitoring and sending BNM frames are
             enabled or not."
        DEFVAL { false }
        ::= { xfEthBnConfigEntry 7 }
    
    -- 1.3.6.1.4.1.193.81.2.16.1.1.1.8 --
    xfEthBnSendOnFullSpeed OBJECT-TYPE
        SYNTAX XfEthBnSendOnOptions
        MAX-ACCESS read-create
        STATUS current
        DESCRIPTION
            "Triggers whether BNM frames should be sent when link is at
             full speed. Default value is always (2)."
        DEFVAL { 2 }
        ::= { xfEthBnConfigEntry 8 }

    -- 1.3.6.1.4.1.193.81.2.16.1.1.1.9 --
    xfEthBnSendOnLinkFail OBJECT-TYPE
        SYNTAX XfEthBnSendOnOptions
        MAX-ACCESS read-create
        STATUS current
        DESCRIPTION
            "Triggers whether BNM frames should be sent when link speed 
             drops to zero and the link fails. Default value is always (2)."
        DEFVAL { 2 }
        ::= { xfEthBnConfigEntry 9 }

    -- 1.3.6.1.4.1.193.81.2.16.1.1.1.10 --
    xfEthBnSendFrequentlyAfterHoldTime OBJECT-TYPE
        SYNTAX TruthValue
        MAX-ACCESS read-create
        STATUS current
        DESCRIPTION
            "Triggers whether more BNM frames should be sent in the first
             interval after the hold-timer expired. Default value is true."
        DEFVAL { true }
        ::= { xfEthBnConfigEntry 10 }

     -- 1.3.6.1.4.1.193.81.2.16.1.1.1.11 --
    xfEthBnFrameFormat OBJECT-TYPE
        SYNTAX XfEthBnFrameFormat
        MAX-ACCESS read-create
        STATUS current
        DESCRIPTION
            "Triggers whether ITU-T or Cisco specified frame format is used
             Default value is ITU-T."
        DEFVAL { 0 }
        ::= { xfEthBnConfigEntry 11 }

END
