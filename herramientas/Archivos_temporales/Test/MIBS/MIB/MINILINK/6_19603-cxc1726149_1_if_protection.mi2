-- No: 6/196 03-CXC 172 6149/1              MANAGEMENT INFORMATION BASE
-- ======================================================================
-- Prepared:  EDD/XMB/SWD   EDD             Revision A
-- ======================================================================

XF-IF-PROTECTION-MIB DEFINITIONS ::= BEGIN


IMPORTS
    MODULE-IDENTITY, NOTIFICATION-TYPE,
    OBJECT-TYPE,
    Counter32, Integer32
      FROM SNMPv2-SMI

    TEXTUAL-CONVENTION, RowStatus,
         TimeStamp
      FROM SNMPv2-TC

    SnmpAdminString
      FROM SNMP-FRAMEWORK-MIB

    InterfaceIndex
      FROM IF-MIB

    xfSdhAdm
           FROM XF-TOP-MIB;


xfIfProtIIMIB MODULE-IDENTITY
   LAST-UPDATED    "201003311400Z"    -- Mar. 31, 2010 at 14:00 GMT
   ORGANIZATION    "Ericsson China"
   CONTACT-INFO
        "Joachim Hasler
         Postal: Ericsson Germany
         Gerberstrasse 33
         71522 Backnang
         Germany
         Phone:  +49 7191/13-3981
         Email:  joachim.hasler@ericsson.com"

   DESCRIPTION
       "This management information module supports the
        configuration and management of protections defined on Interfaces.

        It may be used to model protection schemes for TDM systems like:
        - PDH Traffic Protection
        - PDH Port Protection
        - SDH/Sonet (linear) Line Protection

        Radio Protection protection schemes are currently not
        included (as they would require to distinguish tx and rx direction
        for cmds, status, statistics, ..).
        Note: Radio Protection Schemes are:
        a) Hot Standby (HSB-Prot)
        b) Line Protection (L-Pprot)
        c) Space Diversity (SD-Prot)

        This MIB module is not intended to model any kind of packet protection.

        This MIB is partly based on CISCO-APS-MIB
        by Ashok Chippa, Altaf Shaikh.
        For CISCO-APS-MIB the definitions and descriptions used have
        been derived from Synchronous Optical Network (SONET)
        Transport Systems: Common Generic Criteria, GR-253-CORE
        Revision 2, January 1999,section 5.3. The MIB is also
        consistent with the Multiplex Section Protection (MSP)
        protocol as specified in ITU-T Recommendation G.783,
        Characteristics of synchronous digital hierarchy (SDH)
        equipment function blocks, Annex A and B.
        CISCO-APS-MIB was extracted from internet draft
        draft-ietf-atommib-sonetaps-mib-05.txt for SONET Linear APS
        architectures, by J. Johnson, M. Thatcher, and J. Kuhfeld.

        The MIB also includes some concepts introduced by appropriate
        ITU-Recommendations (G.774 series, ...)

        The MIB uses a terminology which tries to be as umabigous as possible,
        e.g.
        - channel is used only in examples but ApsIf is used instead, ....
        - Physical Layer of APS Protocol is only used in examples but
        principle information to be excahnged with such an APS protocol
        is specified instead
        - ..
        "  
    REVISION     "201003311400Z"    -- Mar. 31, 2010 at 14:00 GMT
    DESCRIPTION
       "modify the units and syntax of xfIfProtConfigHoldOffTime object according to its description(eyuanwa)."
    REVISION     "200802281200Z"    -- Feb. 28, 2008 at 12:00 GMT
    DESCRIPTION
       "REV PA2: Use official MIB module OID (Jens Engel)."
    REVISION     "200705220800Z"
    DESCRIPTION
        "Initial Version"

 ::= { xfSdhAdm 6 }

xfIfProtMIBObjects OBJECT IDENTIFIER
   ::= { xfIfProtIIMIB 1 }

xfIfProtMIBNotifications OBJECT IDENTIFIER
   ::= { xfIfProtIIMIB 2 }

xfIfProtMIBConformance OBJECT IDENTIFIER
   ::= { xfIfProtIIMIB 3 }




XfIfProtSwitchActionRequest ::= TEXTUAL-CONVENTION
   STATUS current
   DESCRIPTION
       "This Textual Convention describes an object that stores
        the current (accepted) SwitchActionRequest
        In case of supported APS protocol the current (accepted)
        SwitchActionRequest is indicated to the peer protocol
        instance within an appropriate Aps protocol field.

        If an APS protocol is supported, is indicated by
        xfIfProtConfigProtectionType

        Example: For SDH/SONET Line Protection the appropriate
        APS protocol field is Bits 1-4 of the K1 byte.

        1111  Lockout of Protection
        1110  Forced Switch
        1101  SF - High Priority
        1100  SF - Low Priority
        1011  SD - High Priority
        1010  SD - Low Priority
        1001  not used
        1000  Manual Switch
        0111  not used
        0110  Wait-to-Restore
        0101  not used
        0100  Exercise
        0011  not used
        0010  Reverse Request
        0001  Do Not Revert
        0000  No Request"
   SYNTAX       INTEGER {
                         lockoutOfProtection(1),
                         forcedSwitch(2),
                         signalFailHighPriority(3),
                         signalFailLowPriority(4),
                         signalDegradeHighPriority(5),
                         signalDegradeLowPriority(6),
                         manualSwitch(7),
                         waitToRestore(8),
                         exercise(9),
                         reverseRequest(10),
                         doNotRevert(11),
                         noRequest(12),
                         other(13)
                     }



XfIfProtProtocolSwitchActionApsIfRequest ::= TEXTUAL-CONVENTION
   STATUS current
   DESCRIPTION
       "This Textual Convention describes an object that stores
        the current SwitchActionApsIfRequest  within an appropriate
        Aps protocol field to which the appropriate SwitchActionRequest
        refers to.

        ApsIf number = 0 : the redundant (backup/protection/protecting/standby) ApsIf is bridged.
        ApsIf number > 0 : one of the nominal (regular/protected/working) ApsIfs is bridged.
        ApsIf number = -1: default, no APS

        Example: For SDH/SONET Line Protection the appropriate
        APS protocol field is Bits 5-8 of the K1 byte
        (which indicate the channel associated
        with the request defined in bits 1-4).
        0000 is the Null channel.
        1-14 are working channels.
        15   is the extra traffic channel "
   SYNTAX       Integer32 (-1..64)


XfIfProtProtocolApsIfNumberBridged ::= TEXTUAL-CONVENTION
   STATUS current
   DESCRIPTION
       "This Textual Convention describes an object that stores
        the ApsIf number of the ApsIf currently bridged within an appropriate
        Aps protocol field.

        ApsIf number = 0 : the redundant (backup/protection/protecting/standby) ApsIf is bridged.
        ApsIf number > 0 : one of the nominal (regular/protected/working) ApsIfs is bridged.
        ApsIf number = -1: default, no APS

        Example: For SDH/SONET Line Protection the appropriate
        APS protocol field is Bits 1-4 of the K2 byte
        The channel is defined with the same syntax as K1 Bits 5-8."
   SYNTAX       Integer32 (-1..64)


XfIfProtProtocolProtectionArchitecture ::= TEXTUAL-CONVENTION
   STATUS current
   DESCRIPTION
       "This Textual Convention describes an object that stores
        the current protection architecture indicated within an appropriate
        Aps protocol field.

        If no APS protocol is supported this value is set to
        noApsProtocolSupported.

        Example: For SDH/SONET  Bit 5 of the K2 byte indicates the
        architecture.

        0 if the architecture is 1+1
        1 if the architecture is 1:n"

  SYNTAX       INTEGER {
                         noApsProtocolSupported(1),
                         onePlusOne(2),
                         oneToN(3),
                         other(4)
                     }

XfIfProtProtocolProtectionMode ::= TEXTUAL-CONVENTION
   STATUS current
   DESCRIPTION
       "This Textual Convention describes an object that stores
        the current protection mode indicated within an appropriate
        Aps protocol field.

        If no APS protocol is supported this value is set to
        noApsProtocolSupported.

        Example: For SDH/SONET Line Protection the appropriate
        APS protocol field is Bits 6-8 of the K2 byte.

        000 - 011 are reserved for future use
        100  indicates the mode is unidirectional
        101  indicates the mode is bidirectional
        110  RDI-L
        111  AIS-L

        RDI-L represent the defect status of the associated sink (G.783)
        AIS-L is MS-AIS"

   SYNTAX       INTEGER {
                         noApsProtocolSupported(1),
                         unidirectional(2),
                         bidirectional(3),
                         rdiLine(4),
                         aisLine(5),
                         other(6)
                     }



XfIfProtSwitchCommand ::= TEXTUAL-CONVENTION
   STATUS       current
   DESCRIPTION
       "An Aps switch command allows a user to perform protection
        switch actions.

        ApsSwitchCmd are issued on an ApsIf (xfIfProtApsIfConfigNumber)
        within an ApsGroup (xfIfProtApsIfConfigGroupIndex).

        The Switch command values are:

        noCmd

        This value should be returned by a read request when no
        switch command has been written to the object in question
        since initialization. This value must not be used in a
        write operation.

        clear

        Clears all of the switch commands listed below for the
        specified ApsIf.
        This command clears also WTR at the ApsIf to which the
        command was addressed (according to G.841).
        NOTE: In the G.783 definition of the linear MSP, the clear
        command did not clear WTR. Equipment which was designed
        according to the G.783 definition will not clear WTR if
        a clear command is sent to this equipment.

        lockout

        When issued on the redundant ApsIf: Prevents any traffic from  using the
        redundant (backup/protection/standby) ApsIf.
        All traffic will use nominal (regular/working/protected) ApsIfs.
        No switching from nominal (regular/working/protected) ApsIfs to
        redundant (backup/protection/standby) ApsIf will occur.

        When issued on a nominal ApsIf: Prevents any traffic from  using the
        nominal ApsIf. Traffic of this nominal ApsIf will use
        redundant (backup/protection/standby) ApsIf unless an equal or higher
        priority switch command is in effect. No switching from
        redundant (backup/protection/standby) ApsIf to
        nominal (regular/working/protected) ApsIf will occur.


        forced

        When issued on a nominal ApsIf: Switches traffic from the specified
        nominal  (working/protected) ApsIf to the redundant
        (backup/protection/standby) ApsIf unless an equal or higher priority
        switch request is in effect.

        When issued on the redundant ApsIf: Switches traffic from the specified
        redundant (backup/protection/standby) ApsIf to the nominal
        (working/protected) ApsIf unless an equal or higher priority
        switch request is in effect.


        manual

        When issued on a nominal ApsIf: Switches traffic from the specified
        nominal (regular/working/protected) ApsIf to the  redundant
        (backup/protection/standby) ApsIf unless an equal or higher priority
        switch request is in effect.

        When issued on the redundant ApsIf: Switches traffic from the specified
        redundant (backup/protection/standby) ApsIf to the nominal
        (working/protected) ApsIf unless an equal or higher priority
        switch request is in effect.


        exercise

        May be only applied on a nominal (regular/working/protected) ApsIf.
        Exercises the protocol for a protection switch of the
        specified ApsIf by issuing an Exercise request for that
        ApsIf and checking the response on the  ApsIf unless the redundant
        ApsIf is in use. The switch is not actually completed, i.e. the
        selector is released by an exercise request on either the sent or the
        received and acknowledged SwitchRequest.
        The exercise functionality may not exist in all ApsIf-Protection
        functions"


   SYNTAX       INTEGER {
                         noCmd(1),
                         clear(2),
                         lockout(3),
                         forced(4),
                         manual(5),
                         exercise(6)}



XfIfProtProtectionGroupStatus ::= TEXTUAL-CONVENTION
   STATUS current
   DESCRIPTION
       "This Textual Convention describes an object that stores
        the current Status of the Protection Group.

        protectionAvailable: The redundant and all nominal ApsIfs
        are available and may be used. No failure condition and no
        request prevents from using the nominal ApsIf (in case of
        failure on the redundant ApsIf) or the redundant ApsIf
        (in case of failure of the nominal ApsIf).

        protectionDegrade: A failure condition or active request
        prevents from using either one of the nominal ApsIfs or
        the redundant ApsIf. The trafic is flowing but no protection
        is available (but the traffic may be flowing because the
        redundfant ApsIf is used).

        protectionFail:  A failure condition or active request
        prevents from using both the redundant and at least one
        nominal ApsIf. Traffic is not flowing anymore."
   SYNTAX       INTEGER {
                         protectionAvailable(1),
                         protectionDegrade(2),
                         protectionFail(3)
                     }



--
-- APS Configuration Table
--
-- This table supports the addition, configuration and deletion
-- of protection groups.
--
xfIfProtConfig   OBJECT IDENTIFIER ::= { xfIfProtMIBObjects 1 }


xfIfProtGroupIndexNext OBJECT-TYPE
    SYNTAX      Integer32 (0..2147483647)
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "This object contains an appropriate value to be used for
        xfIfProtConfigProtGroupIndex when creating entries in the
        xfIfProtConfigTable. The value 0 indicates that no
        unassigned entries are available. To obtain the
        xfIfProtConfigProtGroupIndex  value for a new entry,
        the manager issues a management protocol
        retrieval operation to obtain the current value of this object.
        The agent will modify the value to the next unassigned index,
        when a new row is created in xfIfProtConfigTable with
        xfIfProtConfigProtGroupIndex value equal to the current
        value of this object.
        After deletion of a row in xfIfProtConfigTable the agent
        will determine through its local policy when its index value
        will be made available for reuse."
    ::= { xfIfProtConfig 1 }

xfIfProtProtConfigTableLastChange  OBJECT-TYPE
    SYNTAX      TimeStamp
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The value of sysUpTime at the time of the last
        creation, deletion or modification of an entry
        in the xfIfProtConfigTable.
        If the xfIfProtConfigTable entries has been unchanged
        since the last re-initialization of the local network
        management subsystem, then this object contains a zero value."
    ::= { xfIfProtConfig 2 }

xfIfProtConfigTable OBJECT-TYPE
   SYNTAX      SEQUENCE OF  XfIfProtConfigEntry
   MAX-ACCESS  not-accessible
   STATUS      current
   DESCRIPTION
       "This table lists the APS groups that have been
        configured on the system.
        An APS Group models everything which is modelled by
        ProtectionGroup according to G774.03 respect.
        ConnectionProtectionGroup (inherited from ProtectionGroup)
        modelled by G774.04."
   ::= { xfIfProtConfig 3 }

xfIfProtConfigEntry OBJECT-TYPE
   SYNTAX       XfIfProtConfigEntry
   MAX-ACCESS   not-accessible
   STATUS       current
   DESCRIPTION
       "A conceptual row in the  xfIfProtConfigTable."
   INDEX { xfIfProtConfigProtGroupIndex }
   ::= { xfIfProtConfigTable  1 }

XfIfProtConfigEntry ::= SEQUENCE {
    xfIfProtConfigProtGroupIndex                    Integer32,
        xfIfProtConfigName                              SnmpAdminString,
        xfIfProtConfigRowStatus                         RowStatus,
        xfIfProtConfigMode                              INTEGER,
        xfIfProtConfigNominalInterfaceCount             Integer32,
        xfIfProtConfigProtectionType                    INTEGER,
        xfIfProtConfigRevert                            INTEGER,
        xfIfProtConfigExtraTraffic                      INTEGER,
        xfIfProtConfigProtectionCriteriaTraceMismatch   INTEGER,
        xfIfProtConfigProtectionCriteriaExcessiveError  INTEGER,
        xfIfProtConfigProtectionCriteriaSignalDegrade   INTEGER,
        xfIfProtConfigWaitToRestore                     Integer32,
        xfIfProtConfigHoldOffTime                       Integer32,
        xfIfProtConfigCreationTime                      TimeStamp
}

xfIfProtConfigProtGroupIndex OBJECT-TYPE
    SYNTAX      Integer32 (1..2147483647)
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
        "A unique value used to identify this protection group.

        When the value of this index is equal to the current value
        of xfIfProtGroupIndexNext, the agent will modify the value of
        xfIfProtGroupIndexNext to the next unassigned index."
    ::= { xfIfProtConfigEntry 1 }

xfIfProtConfigName OBJECT-TYPE
   SYNTAX      SnmpAdminString (SIZE (1..32))
   MAX-ACCESS  read-create
   STATUS      current
   DESCRIPTION
       "A textual name for the APS group."
   ::= { xfIfProtConfigEntry 2 }

xfIfProtConfigRowStatus OBJECT-TYPE
   SYNTAX      RowStatus
   MAX-ACCESS  read-create
   STATUS      current
   DESCRIPTION
       "The status of this APS group entry.

        An entry must not exist in the active state unless all
        objects in the entry have an appropriate value.

        When set to notInService changes may be made to
        xfIfProtConfigMode, xfIfProtConfigRevert,
        xfIfProtConfigDirection,  ....

        Creation of a protection group automatically creates entries for the
        specified number of nominal interfaces in the ApsIfConfigTable plus the
        entry for the redundant interface plus all associated table entries.

        Deletion of a protection group automatically delete all associated entries
        in the ApsIfConfigTable plus all associated entries in other tables."

   ::= { xfIfProtConfigEntry 3 }

xfIfProtConfigMode OBJECT-TYPE
   SYNTAX      INTEGER {
                       onePlusOne(1),
                       oneToN(2),
                       radioHsb(3),
                       radioLine(4),
                       radioSd(5)
                       }
   MAX-ACCESS  read-create
   STATUS      current
   DESCRIPTION
       "The architecture of the APS group.

        onePlusOne:

        The 1+1 architecture permanently bridges the nominal
        (working/protected) ApsIf to the redundant (backup/protection/standby)
        ApsIf.


        oneToN:

        The 1:n architecture allows 1 redundant (backup/protection/standby) ApsIf to
        protect up to n nominal (regular/protected/working) ApsIf. When a fault is detected
        on one of the n nominal (regular/protected/working) ApsIf traffic is bridged/selected
        over/from the redundant (backup/protection/standby) ApsIf.

        mToN architectures are not supported by this model

        radioHsb:

        This radio protection protects against hardware failures (device failures).
        In nominal operation in transmit and receive direction the redundant outdoor units
        shall be muted and the RPS switches in the receivers shall select the nominal receive
        signals.
        In case of protection switching in Terminal 2, the RPS switch shall select the
        redundant receive signal path. The HPA of the nominal outdoor unit of Terminal 2
        shall be muted and the HPA of the redundant outdoor unit shall be activated Terminal
        1 shall be unaffected.
        In case of protection switching in Terminal 1, the RPS switch shall select the
        redundant receive signal path. The HPA of the nominal outdoor unit of Terminal 1
        shall be muted and the HPA of the redundant outdoor unit shall be activated.
        Terminal 2 shall be unaffected.
        In case of protection switching in Terminal 1 and Terminal 2, the RPS switches of
        both terminals shall select the redundant receive signal paths. The HPA of the
        nominal outdoor units of both terminal shall be muted and the HPA of the redundant
        outdoor units shall be activated.

        radioLine:

        In Radio Line Protection Configurations the signal is transmitted on two independent
        channels on the air. This mode protects the radio hardware (device protection) and
        the radio link (non availability of one link due to fading, e.g.)
        Independent of hardware failures in receive or transmit paths, the RPS function shall
        always select the best receive signal.
        In case of hardware defects in the transmit path, the HPA of the corresponding
        outdoor unit shall be muted to avoid distortions of neighboring channels due to defect
        radio components.

        radioSd:

        In Space Diversity Configuration two antennas shall be used which are mounted with a
        certain distance to each other (e.g. > 10 wave lengths) so that both receive signals
        can be considered as having been transmitted over two different channels.
        In receive direction the best receive signal shall be selected (as specified for
        radioLine-Protection) and in transmit direction the terminal shall behave as specified
        for radioHsb-Protection.


        Please note that although the different radio protection schemes seem to be
        modelled by this variable these schemes are not really included in this MIM module
        as it is assumed that these protection schemes require to distinguish tx and rx
        direction for cmds, status, statistics, ..).


        This object must not be modified if the associated
        xfIfProtConfigRowStatus object is equal to active(1).


        This attribute equals protectionGroupType attribute
        specified by G774.03 (but G774.03 only distinguishes
        1+1 and M:N)"
   DEFVAL {onePlusOne}
   ::= { xfIfProtConfigEntry 4 }


xfIfProtConfigNominalInterfaceCount OBJECT-TYPE
   SYNTAX      Integer32 (1..32)
   MAX-ACCESS  read-create
   STATUS      current
   DESCRIPTION
       "The total count of nominal interfaces within this protection group.
        The total count of interfaces is xfIfProtConfigNominalInterfaceCount+1
        as the backup interface is always assumed to be member of the protection group.
        Creation of a Protection Group without any nominal interface is not supported.
        According to the variable, the appropriate number of entries in ApsIfConfigTable
        will be created.
        Deletion of the Protection Group will implictely delete also the appropriate
        ApsIfConfigTable - entries.
        In case of xfIfProtConfigMode=onePlusOne,
        xfIfProtConfigNominalInterfaceCount may only be set to 1.
        More than one nominal Interface may be supported in case xfIfProtConfigMode
        is set to oneToN."
   DEFVAL { 1 }
   ::= { xfIfProtConfigEntry 5 }



xfIfProtConfigProtectionType OBJECT-TYPE
   SYNTAX      INTEGER {
                       singleEnded(1),
                       dualEnded(2)
                       }
   MAX-ACCESS  read-create
   STATUS      current
   DESCRIPTION
       "The Protection type of the ApsIf Protection

        singleEnded: Only single ended protection switching, no
        APS protocol.

        dualEnded: Dual ended protection switching,
        APS protocol supported. Only possible in case
        xfIfProtConfigDirection = bidirectional.

        For the different modes of radio protections, only
        singleEnded is possible (no APS protocol).

        This object must not be modified if the associated
        xfIfProtConfigRowStatus object is equal to active(1)."
   DEFVAL {singleEnded}
   ::= { xfIfProtConfigEntry 6 }



xfIfProtConfigRevert OBJECT-TYPE
   SYNTAX      INTEGER { nonrevertive(1), revertive(2) }
   MAX-ACCESS  read-create
   STATUS      current
   DESCRIPTION
       "The revertive mode of the APS group.

        nonrevertive

        Traffic remains on the redundant (backup/protection/standby) ApsIf
        until another switch request is received.

        revertive

        When the condition that caused a switch to the
        redundant (backup/protection/standby) ApsIf has been cleared the signal is
        switched back to the nominal (regular/working/protected)  ApsIf.
        Since switching is revertive
        with the m:n architecture,  xfIfProtConfigRevert must
        be set to revertive if xfIfProtConfigMode is set
        to oneToN.

        Switching may optionally be revertive with the 1+1
        architecture.


        This object must not be modified if the associated
        xfIfProtConfigRowStatus object is equal to active(1).

        This attribute equals revertive attribute
        specified by G774.03

        "
   DEFVAL { nonrevertive }
   ::= { xfIfProtConfigEntry 7 }


xfIfProtConfigExtraTraffic OBJECT-TYPE
   SYNTAX      INTEGER { enabled(1), disabled(2) }
   MAX-ACCESS  read-create
   STATUS      current
   DESCRIPTION
       "This object enables or disables the transfer of extra
        traffic on the redundant (backup/protection/standby) ApsIf in a 1:n architecture.
        This object must be set to disabled if the architecture
        is 1+1. It may be necessary to disable this in order to
        interwork with other  network elements that don't
        support extra traffic.

        This object must not be modified if the associated
        xfIfProtConfigRowStatus object is equal to active(1)."
   DEFVAL { disabled }
   ::= { xfIfProtConfigEntry 8 }



xfIfProtConfigProtectionCriteriaTraceMismatch OBJECT-TYPE
   SYNTAX      INTEGER { enabled(1), disabled(2) }
   MAX-ACCESS  read-create
   STATUS      current
   DESCRIPTION
       "This attribute enables/disables an additional
        TraceMismatch criteria  for automatic switch decision
        therefore supplementing those criteria which are defined as
        mandatory (e.g. for SNCP function as stated in G.841).
        This object must not be modified if the associated
        xfIfProtConfigRowStatus object is equal to active(1).
        This attribute equals sncpPathTraceMismatchCriteria
        specified by G774.04"
   DEFVAL { disabled }
   ::= { xfIfProtConfigEntry 9 }



xfIfProtConfigProtectionCriteriaExcessiveError OBJECT-TYPE
   SYNTAX      INTEGER { enabled(1), disabled(2) }
   MAX-ACCESS  read-create
   STATUS      current
   DESCRIPTION
       "This attribute enables/disables an additional
    ExcessiveError criteria  for automatic switch decision
        therefore supplementing those criteria which are defined as
        mandatory (e.g. for SNCP function as stated in G.841).
        How ExcessiveError has to be calculated and the appropriate
        threshold(s) is out of the scope of this MIB Module and may
        be configured within some other MIB Module.
        This object must not be modified if the associated
        xfIfProtConfigRowStatus object is equal to active(1).
        This attribute equals sncpExcessiveErrorCriteria
        specified by G774.04"
   DEFVAL { disabled }
   ::= { xfIfProtConfigEntry 10 }


xfIfProtConfigProtectionCriteriaSignalDegrade OBJECT-TYPE
   SYNTAX      INTEGER { enabled(1), disabled(2) }
   MAX-ACCESS  read-create
   STATUS      current
   DESCRIPTION
       "This attribute enables/disables an additional
        signalDegrade criteria  for automatic switch decision
        therefore supplementing those criteria which are defined as
        mandatory (e.g. for SNCP function as stated in G.841).

        How SD has to be calculated and the appropriate threshold(s)
        is out of the scope of this MIB Module and may be configured
        within some other MIB Module.

        This object must not be modified if the associated
        xfIfProtConfigRowStatus object is equal to active(1).

        Note: Not defined as additional protectionCriteria
        by G774.04 "
   DEFVAL { disabled }
   ::= { xfIfProtConfigEntry 11 }


xfIfProtConfigWaitToRestore OBJECT-TYPE
   SYNTAX      Integer32 (0..720)
   UNITS       "seconds"
   MAX-ACCESS  read-create
   STATUS      current
   DESCRIPTION
       "The Wait To Restore period in seconds.

        After clearing of a condition that necessitated an
        automatic switch, the wait to restore period must elapse
        before reverting. This is intended to avoid rapid switch
        oscillations.

        GR-253-CORE specifies a Wait To Restore range of 5 to 12

        minutes. G.783 defines a 5 to 12 minute Wait To Restore
        range in section 5.4.1.1.3, but also allows for a shorter
        WTR period in  Table 2-1,
        WaitToRestore value (MI_WTRtime: 0..(5)..12 minutes).

        This object must not be modified if the associated
        xfIfProtConfigRowStatus object is equal to active(1).

        This attribute equals waitToRestoreTime attribute
        specified by G774.03"
   DEFVAL { 300 }
   ::= { xfIfProtConfigEntry 12 }


xfIfProtConfigHoldOffTime OBJECT-TYPE
   SYNTAX      Integer32 (0..100)
   UNITS       "100milliseconds"
   MAX-ACCESS  read-create
   STATUS      current
   DESCRIPTION
       "This attribute specifies the amount of 100 ms periods which
        represents the time to wait before performing a protection switch
        after a defect has occurred on either the protecting or protected
        protection unit. The minimum value is zero (no hold off time) and
        the maximum value is 100 (representing 10 seconds).
        The hold off time is defined in G.841.
        This object must not be modified if the associated
        xfIfProtConfigRowStatus object is equal to active(1).
       This attribute is derived from G774.04"
   DEFVAL { 0 }
   ::= { xfIfProtConfigEntry 13 }


xfIfProtConfigCreationTime OBJECT-TYPE
   SYNTAX      TimeStamp
   MAX-ACCESS  read-only
   STATUS      current
   DESCRIPTION
       "The value of sysUpTime at the time the row was
        created"
   ::= { xfIfProtConfigEntry 14 }


--
-- APS Status Table
--


xfIfProtGroupStatus   OBJECT IDENTIFIER ::= { xfIfProtMIBObjects 2 }


xfIfProtGroupStatusLastChange  OBJECT-TYPE
    SYNTAX      TimeStamp
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The value of sysUpTime at the time of the last
        creation, deletion or modification of an entry
        in the xfIfProtStatusTable.
        If the xfIfProtStatusTable entries have been unchanged
        since the last re-initialization of the local network
        management subsystem, then this object contains a zero value."
    ::= { xfIfProtGroupStatus 1 }


xfIfProtStatusTable OBJECT-TYPE
   SYNTAX      SEQUENCE OF  XfIfProtStatusEntry
   MAX-ACCESS  not-accessible
   STATUS      current
   DESCRIPTION
       "This table provides status information about APS groups
        that have been configured on the system."
   ::= { xfIfProtGroupStatus 2 }

xfIfProtStatusEntry OBJECT-TYPE
   SYNTAX       XfIfProtStatusEntry
   MAX-ACCESS  not-accessible
   STATUS      current
   DESCRIPTION
       "A conceptual row in the  xfIfProtStatusTable. Entries
        in this table are created as a side effect of row
        addition in xfIfProtConfigTable."
   INDEX { xfIfProtConfigProtGroupIndex }
   ::= { xfIfProtStatusTable  1 }

XfIfProtStatusEntry ::= SEQUENCE {
    xfIfProtStatusCurrentSwitchActionRequestStatus       XfIfProtSwitchActionRequest,
    xfIfProtStatusCurrentRequestApsIfStatus              Integer32,
    xfIfProtStatusCurrentApsIfNumberBridged              Integer32,
    xfIfProtStatusCurrentProtectionGroupStatus           XfIfProtProtectionGroupStatus
}

xfIfProtStatusCurrentSwitchActionRequestStatus OBJECT-TYPE
   SYNTAX       XfIfProtSwitchActionRequest
   MAX-ACCESS  read-only
   STATUS      current
   DESCRIPTION
       "This field is set to the current (accepted) SwitchActionRequest

        In case an APS protocol is supported, this (accepted) SwitchActionRequest
        will be signalled to the peer. The appropriate received SwitchRequest value
        is indicated by xfAlsIfProtProtocolStatusSwitchActionRequestRcv.
        "
   ::= { xfIfProtStatusEntry 1 }


xfIfProtStatusCurrentRequestApsIfStatus OBJECT-TYPE
   SYNTAX     Integer32 (-1..64)
   MAX-ACCESS read-only
   STATUS     current
   DESCRIPTION
       "This field is set to the number of the ApsIf for which the current
        SwitchActionRequest (xfIfProtStatusCurrentSwitchActionRequestStatus)
        refers to.

        ApsIf number = 0  : the redundant (backup/protection/protecting/standby) ApsIf.
        ApsIf number > 0  : one of the nominal (regular/protected/working) ApsIfs
        ApsIf number = -1 : in case no redundant ApsIf assigned to Protection Group.

        In case an APS protocol is supported, this ApsIf
        will signalled to the peer as  the ApsIf on which the current
        request is active. The appropriate received ApsIf value on which the
        received Switch Request is active is indicated
        by xfAlsIfProtProtocolStatusSwitchActionApsIfRequestRcv."

   ::= { xfIfProtStatusEntry 2 }


xfIfProtStatusCurrentApsIfNumberBridged OBJECT-TYPE
   SYNTAX     Integer32 (-1..64)
   MAX-ACCESS read-only
   STATUS     current
   DESCRIPTION
       "This field is set to the number of the ApsIf for which traffic is
        currently switched to redundant (backup/protection/standby) ApsIf.

        0 : The value 0 indicates no traffic from a nominal ApsIf is switched to protection.
        >0: indicate that nominal (regular/working/protected) ApsIf for which traffic is
        switched to protection.
        -1: In case no redundant ApsIf assigned to protection group.

        In case of a protocol running the appropriate ApsIf selected/bridged by the peer
        is indicated by xfAlsIfProtProtocolStatusApsIfNumberBridgedRcv."
   ::= { xfIfProtStatusEntry 3 }


xfIfProtStatusCurrentProtectionGroupStatus OBJECT-TYPE
   SYNTAX     XfIfProtProtectionGroupStatus
   MAX-ACCESS read-only
   STATUS     current
   DESCRIPTION
       "This field indicates the status of the ProtectionGroup"
   ::= { xfIfProtStatusEntry 4 }


--
-- APS Protocol Status Table
--

xfIfProtProtocolStatusTable OBJECT-TYPE
   SYNTAX      SEQUENCE OF  XfIfProtProtocolStatusEntry
   MAX-ACCESS  not-accessible
   STATUS      current
   DESCRIPTION
       "This table provides protocol status information about APS
        groups that have been configured on the system."
   ::= { xfIfProtMIBObjects 3 }

xfIfProtProtocolStatusEntry OBJECT-TYPE
   SYNTAX       XfIfProtProtocolStatusEntry
   MAX-ACCESS  not-accessible
   STATUS      current
   DESCRIPTION
       "A conceptual row in the  xfIfProtStatusTable. Entries
        in this table are created as a side effect of row
        addition in xfIfProtConfigTable."
   INDEX { xfIfProtConfigProtGroupIndex }
   ::= { xfIfProtProtocolStatusTable  1 }

XfIfProtProtocolStatusEntry ::= SEQUENCE {
        xfIfProtProtocolStatusSwitchActionRequestRcv           XfIfProtSwitchActionRequest,
    xfIfProtProtocolStatusSwitchActionApsIfRequestRcv      XfIfProtProtocolSwitchActionApsIfRequest,
    xfIfProtProtocolStatusApsIfNumberBridgedRcv            XfIfProtProtocolApsIfNumberBridged,
        xfIfProtProtocolStatusProtectionArchitectureRcv        XfIfProtProtocolProtectionArchitecture,
        xfIfProtProtocolStatusProtectionModeRcv                XfIfProtProtocolProtectionMode,
        xfIfProtProtocolStatusCurrent                          BITS,
        xfIfProtProtocolStatusModeMismatches                   Counter32,
        xfIfProtProtocolStatusApsIfMismatches                  Counter32,
        xfIfProtProtocolStatusPSBFs                            Counter32,
        xfIfProtProtocolStatusFEPLFs                           Counter32  }

xfIfProtProtocolStatusSwitchActionRequestRcv OBJECT-TYPE
   SYNTAX       XfIfProtSwitchActionRequest
   MAX-ACCESS  read-only
   STATUS      current
   DESCRIPTION
       "The current value of the received APS SwitchActionRequest"
   ::= { xfIfProtProtocolStatusEntry 1 }


xfIfProtProtocolStatusSwitchActionApsIfRequestRcv OBJECT-TYPE
   SYNTAX       XfIfProtProtocolSwitchActionApsIfRequest
   MAX-ACCESS  read-only
   STATUS      current
   DESCRIPTION
       "The current value of the received APS SwitchActionApsIfRequest"
   ::= { xfIfProtProtocolStatusEntry 2 }


xfIfProtProtocolStatusApsIfNumberBridgedRcv OBJECT-TYPE
   SYNTAX       XfIfProtProtocolApsIfNumberBridged
   MAX-ACCESS  read-only
   STATUS      current
   DESCRIPTION
       "The current value of the received APS ApsIfNumberBridged"
   ::= { xfIfProtProtocolStatusEntry 3 }


xfIfProtProtocolStatusProtectionArchitectureRcv OBJECT-TYPE
   SYNTAX       XfIfProtProtocolProtectionArchitecture
   MAX-ACCESS  read-only
   STATUS      current
   DESCRIPTION
       "The current value of the received APS ProtectionArchitecture"
   ::= { xfIfProtProtocolStatusEntry 4 }


xfIfProtProtocolStatusProtectionModeRcv OBJECT-TYPE
   SYNTAX       XfIfProtProtocolProtectionMode
   MAX-ACCESS  read-only
   STATUS      current
   DESCRIPTION
       "The current value of received APS ProtectionMode"
   ::= { xfIfProtProtocolStatusEntry 5 }


xfIfProtProtocolStatusCurrent OBJECT-TYPE
   SYNTAX      BITS {
                     modeMismatch(0),
                     apsIfMismatch(1),
                     psbf(2),
                     feplf(3)
                    }
   MAX-ACCESS  read-only
   STATUS      current
   DESCRIPTION
       "The current status of the APS group concerning
        synchronization of the peer protocol entities.

        modeMismatch

        Example Sonet/SDH: Modes other than 1+1 unidirectional
        monitor protection line K2 bit 5, which indicates the
        architecture and K2 bits 6-8, which indicate if the
        mode is unidirectional or bidirectional.
        A conflict between the current local
        mode and the received K2 mode information constitutes
        a mode mismatch.

        apsIfMismatch

        This bit indicates a  mismatch between the transmitted
        ApsIf and the received ApsIf has been detected.

        psbf

        This bit indicates a Protection Switch Byte Failure (PSBF)
        is in effect. This condition occurs when either an
        inconsistent APS byte or an invalid code is detected.
        Example Sonet/SDH: An inconsistent APS byte occurs when
        no three consecutive K1 bytes of the last 12 successive
        frames are identical, starting with the last frame
        containing a previously consistent byte.
        An invalid code occurs when the incoming
        K1 byte contains an unused code or a code irrelevant for
        the specific switching operation (e.g., Reverse Request
        while no switching request is outstanding) in three
        consecutive frames. An invalid code also occurs when the
        incoming K1 byte contains an invalid channel number in
        three consecutive frames.

        feplf

        Example Sonet/SDH: Modes other than 1+1 unidirectional
        monitor the K1 byte for Far-End Protection-Line failures.
        A Far-End Protection-Line defect is declared based on
        receiving SF on the protection line."
   ::= { xfIfProtProtocolStatusEntry 6 }

xfIfProtProtocolStatusModeMismatches OBJECT-TYPE
   SYNTAX     Counter32
   MAX-ACCESS read-only
   STATUS     current
   DESCRIPTION
       "A count of Mode Mismatch conditions."
   ::= { xfIfProtProtocolStatusEntry 7 }

xfIfProtProtocolStatusApsIfMismatches OBJECT-TYPE
   SYNTAX     Counter32
   MAX-ACCESS read-only
   STATUS     current
   DESCRIPTION
       "A count of ApsIf Mismatch conditions."
   ::= { xfIfProtProtocolStatusEntry 8 }

xfIfProtProtocolStatusPSBFs OBJECT-TYPE
   SYNTAX     Counter32
   MAX-ACCESS read-only
   STATUS     current
   DESCRIPTION
       "A count of Protection Switch Byte Failure conditions.
        This condition occurs when either an inconsistent APS
        byte or an invalid code is detected.
        Example Sonet/SDH: An inconsistent
        APS byte occurs when no three consecutive K1 bytes of
        the last 12 successive frames are identical, starting
        with the last frame containing a previously consistent
        byte. An invalid code occurs when the incoming K1 byte
        contains an unused code or a code irrelevant for the
        specific switching operation (e.g., Reverse Request
        while no switching request is outstanding) in three
        consecutive frames. An invalid code also occurs when
        the incoming K1 byte contains an invalid channel number
        in three consecutive frames."
   ::= { xfIfProtProtocolStatusEntry 9 }

xfIfProtProtocolStatusFEPLFs OBJECT-TYPE
   SYNTAX     Counter32
   MAX-ACCESS read-only
   STATUS     current
   DESCRIPTION
       "A count of Far-End Protection-Line Failure conditions.
        This condition is declared based on receiving SF on
        the redundant (backup/protection/standby) nominal ApsIf
        (SONET/SDH: in the K1 byte)."
   ::= { xfIfProtProtocolStatusEntry 10 }



--
-- APS Map Group
--
-- Lists the interfaces (Sonet/E1/DS1/E3/DS3,.. that may be used to create APS
-- groups.
--

xfIfProtMap    OBJECT IDENTIFIER ::= { xfIfProtMIBObjects 4 }

xfIfProtMapTable OBJECT-TYPE
   SYNTAX      SEQUENCE OF  XfIfProtMapEntry
   MAX-ACCESS  not-accessible
   STATUS      current
   DESCRIPTION
       "This table lists all interfaces which are participating in
        a protection group.  The table is used to find
        the protection group which includes a particular interface.
        Note that types of the interfaces listed here may be different
        (i.e. no requirement that an ifType value of
        sonet(39).)"
   ::= { xfIfProtMap 1 }

xfIfProtMapEntry OBJECT-TYPE
   SYNTAX       XfIfProtMapEntry
   MAX-ACCESS  not-accessible
   STATUS      current
   DESCRIPTION
       "A conceptual row in the  xfIfProtMapTable.
        An entry is automatically created only when an interface is
        assigned to a protection group  (when the ifIndex
        of this if is set in a  xfIfProtApsIfConfigEntry).

        An entry is automatically deleted when an interface is removed from a
        protection group, or when the protection that includes the
        interface is deleted."
   INDEX { xfIfProtMapIfIndex }
   ::= { xfIfProtMapTable  1 }


XfIfProtMapEntry ::= SEQUENCE {
    xfIfProtMapIfIndex               InterfaceIndex,
    xfIfProtMapGroupIndex            Integer32,
    xfIfProtMapApsIfNumber           Integer32
    }


xfIfProtMapIfIndex OBJECT-TYPE
   SYNTAX     InterfaceIndex
   MAX-ACCESS not-accessible
   STATUS     current
   DESCRIPTION
       "The Interface Index assigned to a ApsIf."
   ::= { xfIfProtMapEntry 1 }



xfIfProtMapGroupIndex OBJECT-TYPE
   SYNTAX      Integer32 (1..2147483647)
   MAX-ACCESS  read-only
   STATUS      current
   DESCRIPTION
       "The protection group index of the protection group to which
        this interface is assigned to"
   ::= { xfIfProtMapEntry 2 }

xfIfProtMapApsIfNumber OBJECT-TYPE
   SYNTAX     Integer32 (0..64)
   MAX-ACCESS read-only
   STATUS     current
   DESCRIPTION
        "This field is set to a unique ApsIf number within an APS
         group.

         ApsIf number = 0 : the redundant (backup/protection/protecting/standby) ApsIf.
         ApsIf number > 0 : the nominal (regular/protected/working) ApsIf."
   ::= { xfIfProtMapEntry 3 }




--
-- APS ApsIf Configuration Table
--
-- This table supports the addition, configuration and deletion of
-- ApsIfs in APS groups.
--

xfIfProtApsIfConfig   OBJECT IDENTIFIER ::= { xfIfProtMIBObjects 5 }


xfIfProtApsIfConfigLastChange  OBJECT-TYPE
    SYNTAX      TimeStamp
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The value of sysUpTime at the time of the last
        creation, deletion or modification of an entry
        in the xfIfProtApsIfConfigTable.
        If the xfIfProtApsIfConfigTable entries have been unchanged
        since the last re-initialization of the local network
        management subsystem, then this object contains a zero value."
    ::= { xfIfProtApsIfConfig 1 }


xfIfProtApsIfConfigTable OBJECT-TYPE
   SYNTAX      SEQUENCE OF  XfIfProtApsIfConfigEntry
   MAX-ACCESS  not-accessible
   STATUS      current
   DESCRIPTION
       "This table lists the APS ApsIfs that have been
        configured in APS groups."
   ::= { xfIfProtApsIfConfig 2 }

xfIfProtApsIfConfigEntry OBJECT-TYPE
   SYNTAX       XfIfProtApsIfConfigEntry
   MAX-ACCESS  not-accessible
   STATUS      current
   DESCRIPTION
       "A conceptual row in the  xfIfProtApsIfConfigTable.

        Rows in this table are created as a side effect of row addition in the
        xfIfProtConfigTable.

        Rows in this table are destroyed as a side effect of destroyed rows
        in the xfIfProtConfigTable.

        Rows in this table may be added as a side effect of increasing
        the xfIfProtConfigNominalInterfaceCount of an appropriate
        row in the xfIfProtConfigTable.

        Rows in this table may be destroyed as a side effect of decreasing
        the xfIfProtConfigNominalInterfaceCount of an appropriate
        row in the xfIfProtConfigTable. In such a case row entries
        will be deleted in subsequent order starting with the highest
        xfIfProtApsIfConfigNumber such that for the remaining row entries
        the xfIfProtApsIfConfigNumber is still subsequent and starting
        from 0.

        The number of row entries in this table for particular APS group is
        always (xfIfProtConfigNominalInterfaceCount+1). Please note
        that xfIfProtConfigNominalInterfaceCount has to be increased
        by 1 as a row entry is also needed for the redundant ApsIf "
   INDEX { xfIfProtApsIfConfigGroupIndex,
           xfIfProtApsIfConfigNumber }
   ::= { xfIfProtApsIfConfigTable  1 }

XfIfProtApsIfConfigEntry ::= SEQUENCE {
    xfIfProtApsIfConfigGroupIndex            Integer32,
    xfIfProtApsIfConfigNumber                Integer32,
    xfIfProtApsIfConfigIfIndex               Integer32,
    xfIfProtApsIfConfigPriority              INTEGER
    }

xfIfProtApsIfConfigGroupIndex OBJECT-TYPE
   SYNTAX      Integer32 (0..2147483647)
   MAX-ACCESS  not-accessible
   STATUS      current
   DESCRIPTION
       "The index of the APS group which this ApsIf is
        included in."
   ::= { xfIfProtApsIfConfigEntry 1 }

xfIfProtApsIfConfigNumber OBJECT-TYPE
   SYNTAX     Integer32 (0..64)
   MAX-ACCESS not-accessible
   STATUS     current
   DESCRIPTION
   "This field is set to a unique ApsIf number within an APS
    group.

    The value 0 indicates the redundant (backup/protection/standby/null) ApsIf.
    Values > 0 define nominal (regular/protected/working) ApsIf.

    For all ApsIfs of the Protection Group xfIfProtApsIfConfigNumber
    is automatically assigned by the system in subsequent order starting with 0"
   ::= { xfIfProtApsIfConfigEntry 2 }


xfIfProtApsIfConfigIfIndex OBJECT-TYPE
   SYNTAX     Integer32 (-1..2147483647)
   MAX-ACCESS read-create
   STATUS     current
   DESCRIPTION
       "In case an Interface is assigned: The Interface Index assigned to
        an Interface.
        In case the row is created but no Interface is assigned: -1

        In case the value is > 0, the value of this object must be unique
        among all instances of xfIfProtApsIfConfigIfIndex.
        In other words, a particular Interface can only be configured in one
        APS group."

   ::= { xfIfProtApsIfConfigEntry 3 }

xfIfProtApsIfConfigPriority OBJECT-TYPE
   SYNTAX     INTEGER {low(1), high(2)}
   MAX-ACCESS read-create
   STATUS     current
   DESCRIPTION
       "The priority of the ApsIf.

        This field deterimines whether high or low priority
        SD and SF codes are used in SwitchActionRequests send to the
        peer entity via appropriate APS byte(s) (e.g. K1).

        This field is only applicable if the ApsIf is to be
        included in a group using the 1:n architecture. It is
        not applicable if the ApsIf is to be included in a
        group using the 1+1 architecture, and is ignored
        in that case.

        This object cannot be set if the
        xfIfProtApsIfConfigGroupIndex instance associated with
        this row is equal to an instance of  xfIfProtConfigName
        and the corresponding  xfIfProtConfigRowStatus object is
        set to active. In other words this value cannot be
        changed if the APS group is active. However, This value
        may be changed if the xfIfProtConfigRowStatus value is
        equal to notInService.
       "
   DEFVAL { low }
   ::= { xfIfProtApsIfConfigEntry 4 }




--
-- APS Command Table
--
-- This table provides the ability to initiate APS commands.
--


xfIfProtApsCommand   OBJECT IDENTIFIER ::= { xfIfProtMIBObjects 6 }


xfIfProtApsCommandLastChange  OBJECT-TYPE
    SYNTAX      TimeStamp
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
        "The value of sysUpTime at the time of the last
        creation, deletion or modification of an entry
        in the xfIfProtCommandTable.
        If the xfIfProtCommandTable entries have been unchanged
        since the last re-initialization of the local network
        management subsystem, then this object contains a zero value."
    ::= { xfIfProtApsCommand 1 }


xfIfProtCommandTable OBJECT-TYPE
   SYNTAX      SEQUENCE OF  XfIfProtCommandEntry
   MAX-ACCESS  not-accessible
   STATUS      current
   DESCRIPTION
       "This table allows commands to be sent to configured
        APS groups."
   ::= { xfIfProtApsCommand 6 }

xfIfProtCommandEntry OBJECT-TYPE
   SYNTAX       XfIfProtCommandEntry
   MAX-ACCESS  not-accessible
   STATUS      current
   DESCRIPTION
       "A conceptual row in the  xfIfProtCommandTable.
        This row exists only if the associated xfIfProtApsIfConfigEntry
        exists.
        A row in this table is created as a side effect of row addition
        in the xfIfProtApsIfConfigTable.
        The xfIfProtCommandTable row exists as long as the
        xfIfProtApsIfConfigTable entry exists"
   INDEX { xfIfProtApsIfConfigGroupIndex,
           xfIfProtApsIfConfigNumber
         }
   ::= { xfIfProtCommandTable  1 }

XfIfProtCommandEntry ::= SEQUENCE {
    xfIfProtCommandSwitch          XfIfProtSwitchCommand}

xfIfProtCommandSwitch OBJECT-TYPE
   SYNTAX       XfIfProtSwitchCommand
   MAX-ACCESS  read-write
   STATUS      current
   DESCRIPTION
       "Allows the initiation of an APS switch command on the
        APS group and ApsIf specified by the index values.

        If the APS switch command cannot be executed because an
        equal or higer priority request is in effect, an error
        is returned.

        When read this object returns the last command written
        or noCmd if no command has been written to this
        ApsIf since initialization. The return of the last
        command written does not imply that this command is
        currently in effect. This request may have been
        preempted by a higher priority local or remote
        request. In order to determine the current state of the
        APS group it is necessary to read the appropriate
        XfIfProtStatusEntry."
   ::= { xfIfProtCommandEntry 1 }




--
-- APS ApsIf Status Table
--
-- This table provides APS ApsIf statistics.
--

xfIfProtApsIfStatusTable OBJECT-TYPE
   SYNTAX      SEQUENCE OF  XfIfProtApsIfStatusEntry
   MAX-ACCESS  not-accessible
   STATUS      current
   DESCRIPTION
       "This table contains status information for all ApsIf
        interfaces that are included in APS groups."
   ::= { xfIfProtMIBObjects 7 }

xfIfProtApsIfStatusEntry OBJECT-TYPE
   SYNTAX       XfIfProtApsIfStatusEntry
   MAX-ACCESS  not-accessible
   STATUS      current
   DESCRIPTION
       "A conceptual row in the  xfIfProtApsIfStatusTable. A row
        in this table is created as a side effect of row addition
        in the xfIfProtApsIfConfigTable. The xfIfProtApsIfStatusTable
        row exists as long as the  xfIfProtApsIfConfigTable entry
        exists."
   INDEX { xfIfProtApsIfConfigGroupIndex, xfIfProtApsIfConfigNumber }
   ::= { xfIfProtApsIfStatusTable  1 }

 XfIfProtApsIfStatusEntry ::= SEQUENCE {
    xfIfProtApsIfStatusCurrent               BITS,
    xfIfProtApsIfStatusSignalDegrades        Counter32,
    xfIfProtApsIfStatusSignalFailures        Counter32,
    xfIfProtApsIfStatusSwitchovers           Counter32,
    xfIfProtApsIfStatusLastSwitchover        TimeStamp,
    xfIfProtApsIfStatusSwitchoverSeconds     Counter32
}

xfIfProtApsIfStatusCurrent OBJECT-TYPE
   SYNTAX     BITS {
                     lockedOut(0),
                     sd(1),
                     sf(2),
                     switched(3)
                    }
   MAX-ACCESS read-only
   STATUS     current
   DESCRIPTION
       "Indicates the current state of the port.

        lockedOut

        This bit, when applied to a nominal (regular/working/protected) ApsIf,
        indicates that traffic is prevented from switching from the
        nominal ApsIf to the redundant ApsIf.
        When applied to the redundant ApsIf, this
        bit indicates that traffic from no nominal ApsIf may switch to the
        redundant ApsIf.

        sd

        A signal degrade condition is in effect.

        sf

        A signal failure condition is in effect.

        switched

        The switched bit is applied to a nominal (regular/working/protected) ApsIf if
        traffic from that ApsIf is currently switched to the redundant ApsIf.
        "
   ::= { xfIfProtApsIfStatusEntry 1 }

xfIfProtApsIfStatusSignalDegrades OBJECT-TYPE
   SYNTAX     Counter32
   MAX-ACCESS read-only
   STATUS     current
   DESCRIPTION
       "A count of Signal Degrade conditions. This
        condition occurs when the Bit Error Rate
        exceeds the currently configured threshold."
   ::= { xfIfProtApsIfStatusEntry 2 }

xfIfProtApsIfStatusSignalFailures OBJECT-TYPE
   SYNTAX     Counter32
   MAX-ACCESS read-only
   STATUS     current
   DESCRIPTION
       "A count of Signal Failure conditions that have been
        detected on the incoming signal.

        Example Sonet/SDH: This condition occurs
        when a loss of signal, loss of frame, AIS-L or a Line
        bit error rate exceeding 10^-3 is detected on an
        incoming line."
   ::= { xfIfProtApsIfStatusEntry 3 }

xfIfProtApsIfStatusSwitchovers OBJECT-TYPE
   SYNTAX     Counter32
   MAX-ACCESS read-only
   STATUS     current
   DESCRIPTION
       "In case this is a nominal ApsIf (index value
        xfIfProtApsIfConfigNumber > 0): The number of
        times traffic from the nominal ApsIf has switched to the
        redundant ApsIf.

        In case this is the redundant ApsIf (index value
        xfIfProtApsIfConfigNumber = 0): always the
        value 0 will be returned"
    ::= { xfIfProtApsIfStatusEntry 4 }

xfIfProtApsIfStatusLastSwitchover OBJECT-TYPE
   SYNTAX     TimeStamp
   MAX-ACCESS read-only
   STATUS     current
   DESCRIPTION
       "In case this is a nominal ApsIf (index value
        xfIfProtApsIfConfigNumber > 0): The value of
        sysUpTime when traffic from this ApsIf last completed
        a switch to the redundant ApsIf.
        If traffic from this ApsIf has never switched to the
        redundant ApsIf the value 0 will be returned.

        In case this is the redundant ApsIf (index value
        xfIfProtApsIfConfigNumber = 0): always the
        value 0 will be returned"
   ::= { xfIfProtApsIfStatusEntry 5 }

xfIfProtApsIfStatusSwitchoverSeconds OBJECT-TYPE
   SYNTAX     Counter32
   MAX-ACCESS read-only
   STATUS     current
   DESCRIPTION
       "The cumulative Protection Switching Duration (PSD) time
        in seconds.

        For traffic using the nominal ApsIf,
        this is the cumulative number of seconds that service was
        carried on the backup ApsIf.

        For traffic using the redundant ApsIf (e.g. extra traffic),
        this is the cumulative number of seconds that the redundant
        ApsIf has been used to carry traffic from any nominal ApsIf.
        This information is only valid if revertive switching is
        enabled. The value 0 will be returned otherwise."
   ::= { xfIfProtApsIfStatusEntry 6 }




--
-- APS EVENTS
--

xfIfProtNotificationsPrefix OBJECT IDENTIFIER
    ::= {  xfIfProtMIBNotifications 0 }

xfIfProtEventSwitchover NOTIFICATION-TYPE
   OBJECTS { xfIfProtApsIfStatusSwitchovers,
             xfIfProtApsIfStatusCurrent
           }
   STATUS  current
   DESCRIPTION
       "An  xfIfProtEventSwitchover notification is sent when the
        value of an instance of xfIfProtApsIfStatusSwitchovers
        increments."
   ::= { xfIfProtNotificationsPrefix 1 }

-- XXX-JE-OOPS:
-- UNDEFINED OBJECT: xfIfProtStatusModeMismatches
xfIfProtEventModeMismatch NOTIFICATION-TYPE
   OBJECTS { -- XXX-JE-UNKNOWN-OBJECT: xfIfProtStatusModeMismatches,
             xfIfProtStatusCurrentSwitchActionRequestStatus
           }
   STATUS  current
   DESCRIPTION
       "An xfIfProtEventModeMismatch notification is sent when
        the value of an instance of xfIfProtStatusModeMismatches
        increments."
   ::= {  xfIfProtNotificationsPrefix 2 }

xfIfProtEventApsIfMismatch NOTIFICATION-TYPE
   OBJECTS { -- XXX-JE-UNKNOWN-OBJECT: xfIfProtStatusApsIfMismatches,
             xfIfProtStatusCurrentSwitchActionRequestStatus
           }
   STATUS  current
   DESCRIPTION
       "An  xfIfProtEventApsIfMismatch notification is sent when
        the value of an instance of xfIfProtStatusApsIfMismatches
        increments."
   ::= {  xfIfProtNotificationsPrefix 3 }

xfIfProtEventPSBF NOTIFICATION-TYPE
   OBJECTS {  -- XXX-JE-UNKNOWN-OBJECT: xfIfProtStatusPSBFs,
        xfIfProtStatusCurrentSwitchActionRequestStatus }
   STATUS  current
   DESCRIPTION
       "An  xfIfProtEventPSBF notification is sent when the
        value of an instance of  xfIfProtStatusPSBFs increments."
   ::= {  xfIfProtNotificationsPrefix 4 }

xfIfProtEventFEPLF NOTIFICATION-TYPE
   OBJECTS {  -- XXX-JE-UNKNOWN-OBJECT: xfIfProtStatusFEPLFs,
        xfIfProtStatusCurrentSwitchActionRequestStatus }
   STATUS  current
   DESCRIPTION
       "An  xfIfProtEventFEPLFs notification is sent when the
        value of an instance of  xfIfProtStatusFEPLFs increments."
   ::= {  xfIfProtNotificationsPrefix 5 }


xfIfProtEventProtectionGroupStatus NOTIFICATION-TYPE
   OBJECTS {  xfIfProtStatusCurrentProtectionGroupStatus }
   STATUS  current
   DESCRIPTION
       "An  xfIfProtEventProtectionGroupStatus notification is sent when the
        value of an instance of  xfIfProtStatusCurrentProtectionGroupStatus
        changes"
   ::= {  xfIfProtNotificationsPrefix 6 }

END
